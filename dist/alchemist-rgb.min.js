!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.alchemist_rgb=r():t.alchemist_rgb=r()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t){t.exports=function(){return function(t){var r=function(t){return.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},n=function(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055},e=function(t){for(var r,n,e,o,u=3,i=0,f=0,x=0;u>x;x++){r=1,n=1;for(var a=0;u>a;a++)e=a,o=u-a-1,c=x+a,c>=u&&(c-=u),r*=t[e][c],n*=t[o][c];i+=r,f-=n}return i+f},o=function(t){var r=[[],[],[]],n=1/e(t);return r[0][0]=n*(t[2][2]*t[1][1]-t[2][1]*t[1][2]),r[0][1]=-n*(t[2][2]*t[0][1]-t[2][1]*t[0][2]),r[0][2]=n*(t[1][2]*t[0][1]-t[1][1]*t[0][2]),r[1][0]=-n*(t[2][2]*t[1][0]-t[2][0]*t[1][2]),r[1][1]=n*(t[2][2]*t[0][0]-t[2][0]*t[0][2]),r[1][2]=-n*(t[1][2]*t[0][0]-t[1][0]*t[0][2]),r[2][0]=n*(t[2][1]*t[1][0]-t[2][0]*t[1][1]),r[2][1]=-n*(t[2][1]*t[0][0]-t[2][0]*t[0][1]),r[2][2]=n*(t[1][1]*t[0][0]-t[1][0]*t[0][1]),r},u=function(t,r,n,e){var u=[[t.x/t.y,r.x/r.y,n.x/n.y],[1,1,1],[(1-t.x-t.y)/t.y,(1-r.x-r.y)/r.y,(1-n.x-n.y)/n.y]],c=o(u),i=e.X*c[0][0]+e.Y*c[0][1]+e.Z*c[0][2],f=e.X*c[1][0]+e.Y*c[1][1]+e.Z*c[1][2],x=e.X*c[2][0]+e.Y*c[2][1]+e.Z*c[2][2];return u[0][0]*=i,u[0][1]*=f,u[0][2]*=x,u[1][0]*=i,u[1][1]*=f,u[1][2]*=x,u[2][0]*=i,u[2][1]*=f,u[2][2]*=x,u},i={x:.64,y:.33},f={x:.3,y:.6},x={x:.15,y:.06},a=u(i,f,x,t.white),y=o(a);return{name:"rgb",limits:{max:[255,255,255],min:[0,0,0]},to:{xyz:function(t,n,e){var o=r(t/255),u=r(n/255),c=r(e/255),i=o*a[0][0]+u*a[0][1]+c*a[0][2],f=o*a[1][0]+u*a[1][1]+c*a[1][2],x=o*a[2][0]+u*a[2][1]+c*a[2][2];return[i,f,x]}},from:{xyz:function(t,r,e){var o=255*n(t*y[0][0]+r*y[0][1]+e*y[0][2]),u=255*n(t*y[1][0]+r*y[1][1]+e*y[1][2]),c=255*n(t*y[2][0]+r*y[2][1]+e*y[2][2]);return[o,u,c]}}}}}}])});